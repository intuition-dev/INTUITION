<!doctype html><html><head><script>var _start=Date.now()</script><title></title><meta charset='utf-8'><meta content='width=device-width,initial-scale=1' name='viewport'><script src='//cdn.jsdelivr.net/npm/johnnydepp@0.1.0/dist/depp.min.js'></script><script src='//cdn.jsdelivr.net/npm/riot@3.13.2/riot.min.js'></script><style>.delayShowing{opacity:0}.blur{-webkit-filter:blur(2px);filter:blur(2px)}</style><script src='https://cdn.jsdelivr.net/gh/metabake/toolBelt@v2.0.18/toolBelt/toolBelt.min.js'></script><script></script><script>window.apiPort=location.port,window.apiProtocol=location.protocol.split(':')[0],window.apiHost=location.hostname,window.appMount="http://0.0.0.0:3000",window.siteName='MetaBake'</script><link href='/edit/assets/css/spectreTop.css' rel='stylesheet'></head><body><script src='/edit/assets/js/loader.js'></script><header><div class='container col-settings'><div><div class='site-brand'>Site Name</div></div><ul class='user-area'><li><a class='sign-out' href='#' id='sign-out'>Sign out</a></li><li class='user-name'></li></ul></div></header><div class='lds-css loader ng-scope'><div class='text'>Deploying</div><div class='lds-ellipsis' style='width:100%;height:100%'><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div></div></div><div class='container edit-blog-page page-content'><div class='columns'><div class='col-sidebar'><div class='blog-list'><div class='blog-list__inside'><div class='blog-list-wrap'></div></div></div><div class='logo-wrap'><div class='js-enable-pug logo'>Your Logo Here</div><div class='easter-pug'>You can edit pug<i class='i-arrow-right'></i></div></div></div><div class='col-editor'><div class='editor-wrapper'><h1>Editing <span class='js-file-name'>Choose file to edit</span></h1><div class='icons-row'><div class='icon-wrap'><i class='disabled upload' title='file upload'></i></div><div class='icon-wrap'><i class='disabled i-calendar publish-date' title='Set publish date'></i></div><div class='icon-wrap'><i class='icono-sync' title='Refresh'></i></div><div class='icon-wrap'><i class='disabled create-post i-plusCircle' title='Clone page'></i></div></div><textarea id='cms1' rows='400'></textarea><div class='d-hide errors mt-2 toast toast-error' data-js='errors'></div><div class='btns-wrap'><button class='btn-custom btn-primary save' disabled='disabled' href='#'>save</button><a class='btn-custom btn-secondary js-view-page' href='#' disabled='disabled' target='_blank'><span>view page</span></a></div></div></div></div><div class='d-hide notification'><div class='text'></div></div><form class='d-hide post-name-wrap'><label>Enter new page name:</label><div class='input-wrap'><input type='text' name='post-name' required><button type='submit'><i class='icono-checkCircle'></i></button></div></form><form class='d-hide dropzone file-upload' action='upload' encType='multipart/form-data' id='file-upload' method='post'>Select file:<input type='file' class='file-upload-input' id='file-upload-input' multiple='' name='sampleFile'><input type='submit'></form><form class='d-hide publish-date-form'><label>Select date:</label><div class='input-wrap'><input type='text' class='datepicker publish-date-input'><button type='submit'><i class='icono-checkCircle'></i></button></div></form></div><script>var myCodeMirror=null
depp.require(['general'],function(){$(document).on('click','.js-view-page',function(e){$(this).hasAttribute('disabled')&&e.preventDefault()})
let e=new Posts,t=window.location.hash.substr(1)
e.loadTextarea(),e.init(t)
let a=window.location.origin+'/ROOT/exApp1'
$('.js-view-page').attr('href',a),$(document).off().on('click','.blog-item',function(t){t.preventDefault(),$('.blog-item ul').remove(),$('.upload, .i-plusCircle').removeClass('disabled'),$('.knot').removeClass('active'),$(this).find('.knot').addClass('active'),$('.blog-item').removeClass('active'),$(this).addClass('active'),$('.btn-custom.save').attr("disabled","disabled"),$('.js-view-page').removeAttr("disabled")
let i=$(this).find('span').text()
window.location.hash=i,$('.js-view-page').attr('href',a+'/'+i),0===$(this).find('ul').length?e.showSubDirs(i):$(this).find('ul').remove()}),$(document).on('click','.icono-sync',function(t){if(t.preventDefault(),$('.blog-item').hasClass('active')){let t=$('.blog-item.active').find('span').text(),a=$('.blog-item.active li.active div').text()
$('.loader').addClass('active'),$('.blog-list-wrap').html(''),e.refresh(t,a)}else $('.loader').addClass('active'),$('.blog-list-wrap').html(''),e.refreshClosed()}),$(document).on('click','.blog-item li',function(t){t.preventDefault(),t.stopPropagation()
let a=$(this),i=$(this).text()
if(e.refreshTextarea(i,a),$('.js-enable-pug').hasClass('js-pug-enabled')){let t='.pug'
if(i.includes(t)){e.enablePug(),$('.blog-item li').removeClass('active'),$(this).addClass('active')
let t=$(this).parents('.blog-item').find('span').text(),a=i.replace('/','')
$('.js-file-name').text(a),e.showMd(i,t),$('.btn-custom.save').removeAttr("disabled"),$('.i-calendar').addClass('disabled')}}}),$(document).on('click','.save',function(t){t.preventDefault()
let a=$('.blog-item.active').find('li.active').text(),i=$('.blog-item.active').find('span').text(),s=myCodeMirror.getValue()
$(this).attr("disabled","disabled"),$('.loader').addClass('active')
let l=$(this)
e.saveMd(a,s,i,l)}),$(document).on('click','.create-post',function(e){e.preventDefault(),e.stopPropagation(),$(this).hasClass('disabled')||($('form').addClass('d-hide'),$('.post-name-wrap').removeClass('d-hide'),$('.icon-wrap i').removeClass('active'),$('.icon-wrap .create-post').addClass('active'))}),$(window).click(function(){$('.post-name-wrap').addClass('d-hide')}),$('.post-name-wrap').click(function(e){e.stopPropagation()}),$('.post-name-wrap').on('submit',function(t){t.preventDefault()
let a=$(this).find('input').val(),i=$('.blog-item.active').find('span').text()
if(''===i)$('.notification').removeClass('d-hide').addClass('error-msg').find('.text').text('Please select a page to copy'),setTimeout(function(){$('.notification').addClass('d-hide').removeClass('error-msg').find('.text').text('')},4e3)
else if(''===a)$('.notification').removeClass('d-hide').addClass('error-msg').find('.text').text('Page name can\'t be blank'),setTimeout(function(){$('.notification').addClass('d-hide').removeClass('error-msg').find('.text').text('')},4e3)
else{$(this).attr("disabled","disabled"),$('.loader').addClass('active')
let t=$(this)
e.addPost(a,i,t),$('.blog-list-wrap').html(''),e.refreshDirsOnClone(a)}}),$(document).on('click','.upload',function(e){e.preventDefault(),e.stopPropagation(),$(this).hasClass('disabled')||($('form').addClass('d-hide'),$('.file-upload').removeClass('d-hide'),$('.icon-wrap i').removeClass('active'),$('.icon-wrap .upload').addClass('active'),window.pathPrefixUpload=$('.blog-item.active').find('span').text())}),$(window).click(function(){$('.file-upload').addClass('d-hide'),$('.icon-wrap i').removeClass('active')}),$('.file-upload').click(function(e){e.stopPropagation()}),$('#file-upload').on('submit',function(t){t.preventDefault(),$(this).attr("disabled","disabled"),$('.loader').addClass('active')
let a=$('#file-upload-input')[0].files[0],i=$(this)
e.uploadFile(a,pathPrefixUpload,i,window.pathPrefixUpload)
let s=$('.blog-item.active li.active div').text()
$('.blog-list-wrap').html(''),e.refreshOnUpload(window.pathPrefixUpload,s)}),$(document).on('click','.publish-date',function(e){e.preventDefault(),e.stopPropagation(),$(this).hasClass('disabled')||($('.icon-wrap i').removeClass('active'),$('.icon-wrap .i-calendar').addClass('active'),$('form').addClass('d-hide'),$('.publish-date-form').removeClass('d-hide'),window.pathPrefixPdate=$('.blog-item.active').find('span').text())}),$(window).click(function(){$('.publish-date-form').addClass('d-hide')}),$(document).on('click','.publish-date-form, .Zebra_DatePicker',function(e){e.stopPropagation()}),$('.publish-date-form').on('submit',function(t){t.preventDefault()
let a=$('.publish-date-form input').val()
if(''===pathPrefixPdate)$('.notification').removeClass('d-hide').addClass('error-msg').find('.text').text('Please select post on the left to set publish date'),setTimeout(function(){$('.notification').addClass('d-hide').find('.text').text(''),$('.publish-date-form input').val('')},4e3)
else if(''!==a){$(this).find('button').attr("disabled","disabled"),$('.loader').addClass('active')
let t=new Date(a).getTime()/1e3
e.setPublishDate(t,pathPrefixPdate),$('.blog-list-wrap').html(''),e.refreshOnSetDate(pathPrefixPdate)}}),$(document).on('click','.js-enable-pug',function(e){e.preventDefault(),$(this).toggleClass('js-pug-enabled'),$('.easter-pug').toggleClass('active')}),$('.sign-out').on('click',function(t){t.preventDefault(),e.signOut()})})</script><!-- mB v6.07.29 on 2019-07-27T12:05:52.932Z --></body></html>