// mB v6.07.27 on 2019-07-25T01:25:42.229Z
var IntuAPI=function(){function IntuAPI(){var e=window.location.protocol
e=e.replace(":","")
var t=window.location.hostname,i=window.location.port
this.serviceRPC=new httpRPC(e,t,i)
var n=window.sessionStorage.getItem("username"),o=window.sessionStorage.getItem("password")
null!==n&&null!==o&&this.serviceRPC.setUser(n,o)}return IntuAPI.prototype.checkEditor=function(e,t){var i=this
return this.serviceRPC.invoke("api","editors","checkEditor",{editor_email:e,editor_pass:t}).then(function(n){return!!n&&(i.serviceRPC.setUser(e,t),!0)})},IntuAPI.prototype.getDirsList=function(){var e=window.sessionStorage.getItem("username"),t=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("api","editors","get-items",{editor_email:e,editor_pass:t})},IntuAPI.prototype.getSubDirsList=function(e){var t=window.sessionStorage.getItem("username"),i=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("api","editors","get-files",{post_id:e,editor_email:t,editor_pass:i})},IntuAPI.prototype.getFile=function(e,t){var i=window.sessionStorage.getItem("username"),n=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("api","editors","get-file-content",{post_id:e,pathPrefix:t,editor_email:i,editor_pass:n})},IntuAPI.prototype.saveFile=function(e,t,i){var n=window.sessionStorage.getItem("username"),o=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("api","editors","save-file",{post_id:e,pathPrefix:i,content:btoa(t),editor_email:n,editor_pass:o})},IntuAPI.prototype.mbakeCompile=function(e,t,i){var n=window.sessionStorage.getItem("username"),o=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("api","editors","compile-code",{post_id:e,pathPrefix:i,content:btoa(t),editor_email:n,editor_pass:o}).then(function(e){return e}).catch(function(e){return e})},IntuAPI.prototype.clonePage=function(e,t){var i=window.sessionStorage.getItem("username"),n=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("api","editors","clone-page",{post_id:e,pathPrefix:t,editor_email:i,editor_pass:n})},IntuAPI.prototype.upload=function(e,t){var i=window.sessionStorage.getItem("username"),n=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("api","editors","upload",{pathPrefix:t,editor_email:i,editor_pass:n},e.get("sampleFile")).then(function(e){}).catch(function(e){})},IntuAPI.prototype.setPublishDate=function(e,t){var i=window.sessionStorage.getItem("username"),n=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("api","editors","set-publish-date",{publish_date:e,post_id:t,editor_email:i,editor_pass:n})},IntuAPI.prototype.getMbakeVersion=function(){var e=window.sessionStorage.getItem("username"),t=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("api","editors","mbake-version",{editor_email:e,editor_pass:t}).then(function(e){})},IntuAPI.prototype.sendVcodEditor=function(e){return this.serviceRPC.invoke("api","editors","reset-password-code",{admin_email:e}).then(function(){return!0})},IntuAPI.prototype.resetPassEditor=function(e,t,i){return this.serviceRPC.invoke("api","editors","reset-password",{admin_email:e,code:t,password:i})},IntuAPI.prototype.checkAdmin=function(e,t){var i=this
return this.serviceRPC.invoke("admin","admin","checkAdmin",{admin_email:e,admin_pass:t}).then(function(n){return!!n&&(i.serviceRPC.setUser(e,t),!0)})},IntuAPI.prototype.setupApp=function(e){var t=window.sessionStorage.getItem("username"),i=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("api","admin","setup-app",{item:e,admin_email:t,admin_pass:i})},IntuAPI.prototype.getEditorsList=function(){var e=window.sessionStorage.getItem("username"),t=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("admin","admin","getEditors",{admin_email:e,admin_pass:t})},IntuAPI.prototype.addEditor=function(e,t,i,n){var o=window.sessionStorage.getItem("username"),s=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("admin","admin","addEditor",{id:e,name:t,email:i,password:n,admin_email:o,admin_pass:s})},IntuAPI.prototype.editEditor=function(e,t){return this.serviceRPC.invoke("admin","admin","editEditor",{name:t,uid:e,admin_email:window.sessionStorage.getItem("username"),admin_pass:window.sessionStorage.getItem("password")})},IntuAPI.prototype.deleteEditor=function(e){return this.serviceRPC.invoke("admin","admin","deleteEditor",{uid:e,admin_email:window.sessionStorage.getItem("username"),admin_pass:window.sessionStorage.getItem("password")})},IntuAPI.prototype.sendVcode=function(e){return this.serviceRPC.invoke("api","admin","resetPassword-code",{admin_email:e}).then(function(){return!0})},IntuAPI.prototype.resetPass=function(e,t,i){return this.serviceRPC.invoke("admin","admin","reset-password",{admin_email:e,code:t,password:i})},IntuAPI.prototype.getConfig=function(){var e=window.sessionStorage.getItem("username"),t=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("admin","admin","getConfig",{admin_email:e,admin_pass:t})},IntuAPI.prototype.updateConfig=function(e,t,i){var n=window.sessionStorage.getItem("username"),o=window.sessionStorage.getItem("password")
return this.serviceRPC.invoke("api","admin","update-config",{admin_email:n,admin_pass:o,port:e,path:t,printfulApi:i.length?i:""})},IntuAPI.prototype.createConfig=function(e){var t=e.filter(function(e){return"email"==e.name})[0].value,i=e.filter(function(e){return"password"==e.name})[0].value,n=e.filter(function(e){return"service_id"==e.name})[0].value,o=e.filter(function(e){return"template_id"==e.name})[0].value,s=e.filter(function(e){return"user_id"==e.name})[0].value
return this.serviceRPC.invoke("setup","setup","setup",{email:t,password:i,emailjsService_id:n,emailjsTemplate_id:o,emailjsUser_id:s}).then(function(e){return e}).catch(function(e){})},IntuAPI}()