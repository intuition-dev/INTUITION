// mB v6.07.07 on 2019-06-29T17:48:14.275Z
!function(e){e.fn.simpleFAQ=function(s){var n=e(this)
return!(s=s||{}).node&&n.length&&(s.node=n),s.node=e(s.node),s.node.each(function(){new e.jk.SimpleFAQ(s)}),n},e.jk||(e.jk={}),e.jk.SimpleFAQ=function(s){var n,t=this
if(s=s||{},e.extend(t,s||{}),t.node=e(s.node?s.node:null),!t.node||1!==t.node.length)return t.node=null,t
n=t.node,e.isArray(t.data)&&this.buildFaqsFromData(),n.addClass(t.ns+"_list"),t.faqNodes=n.children(t.nodeType).addClass(t.ns+"_item"),t.setupBasicActions(),t.faqNodes.find("."+t.answerClass).hide(),t.showDefaultItem(),t.allowSearch&&(t.searchNode=e(t.searchNode),t.searchNode.length?(null===t.score&&"function"==typeof e.score&&(t.score=e.score),"function"==typeof t.score?(t.addSearchUI(),t.showAllOnEmpty||t.hideSearchResults(t.faqNodes)):(t.allowSearch=!1,t.searchNode=null,t.score=null)):(t.allowSearch=!1,t.searchNode=null)),n.data(t.ns,t).trigger("init."+t.ns,[t])},e.extend(e.jk.SimpleFAQ.prototype,{data:null,nodeType:"li",questionClass:"question",answerClass:"answer",tagClass:"tags",showOnlyOne:!1,changeHash:!0,slideSpeed:500,allowSearch:!1,score:null,searchNode:null,minSearchScore:.5,sortSearch:!1,showAllOnEmpty:!0,caseSensitive:!1,keyTimeout:400,partialTagScore:.1,exactTagScore:.2,node:null,ns:"simpleFAQ"}),e.extend(e.jk.SimpleFAQ.prototype,{setupBasicActions:function(){var s=this
s.node.on("mouseover","."+s.questionClass,function(){e(this).addClass(s.ns+"Hover")}).on("mouseout","."+s.questionClass,function(){e(this).removeClass(s.ns+"Hover")}).on("click."+s.ns,"."+s.questionClass,function(n){var t=e(this).parents("."+s.ns+"_item")
s.showOnlyOne&&s.hideAll(t),s.toggleFaq(t)})},buildFaqsFromData:function(){for(var e=this,s="",n=0,t=e.data.length;n<t;++n)s+="<"+e.nodeType+"><p class='"+e.questionClass+"'>"+e.data[n].question+"</p><div class='"+e.answerClass+"'>"+e.data[n].answer+"</div><p class='"+e.tagClass+"'>"+(e.data[n].tags||"")+"</p></"+e.nodeType+">"
e.node.append(s)},toggleFaq:function(s,n){var t=this,a=(s=s||e(t.faqNodes.get(0))).find("."+t.answerClass)
n=n||function(){},a.slideToggle(t.slideSpeed,function(){if(a.is(":visible")){if(s.addClass(t.ns+"Showing"),t.node.trigger("show."+t.ns,[s[0]]),t.changeHash){var e=s.attr("id")
e&&e.length>0&&(document.location.hash=escape(e))}}else s.removeClass(t.ns+"Showing"),t.node.trigger("hide."+t.ns,[s[0]])
n()})},hideAll:function(s,n){var t=this,a=0,o=null
s=s||null,n=n||function(){},o=t.faqNodes.find("."+t.answerClass+":visible"),s&&(o=o.not(s.find("."+t.answerClass))),o.length?o.slideUp(t.slideSpeed,function(){var s=e(this).parents("."+t.ns+"_item").removeClass(t.ns+"Showing")
t.node.trigger("hide."+t.ns,[s[0]]),++a>=o.length&&n()}):n()},showDefaultItem:function(){var s=document.location.hash,n=null
s&&s.length>0&&(n=e(s)).length&&n.is("."+this.ns+"_item")&&this.toggleFaq(n)},hideSearchResults:function(e){var s=this
e.hide().removeClass(s.ns+"Result "+s.ns+"Showing").find("."+s.answerClass).hide()},addSearchUI:function(){var e=this
e.searchNode&&e.searchNode.length&&(e.__sto=null,e.searchNode.addClass(e.ns+"Search").keyup(function(s){clearTimeout(e.__sto),e.__sto=null,e.__sto=setTimeout(function(){e.handleSearchKey(e.searchNode.val())},e.keyTimeout)}))},handleSearchKey:function(e){var s=this,n=[]
if(s.node.trigger("searchStart."+s.ns),e.length<1)return s.hideSearchResults(s.faqNodes),s.showAllOnEmpty&&s.faqNodes.show(),s.node.trigger("searchEnd."+s.ns,[n]),n
n=s.doScoring(e),s.sortSearch&&(n.sort(function(e,s){return s[0]-e[0]}),s.node.trigger("sort."+s.ns,[n]))
for(var t=[],a=0,o=n.length;a<o;++a)n[a][1].show().addClass(s.ns+"Result"),t.push(n[a][1][0]),s.sortSearch&&s.node.append(n[a][1])
return s.hideSearchResults(s.faqNodes.not(t)),s.node.trigger("searchEnd."+s.ns,[n]),n},doScoring:function(s){var n,t=this,a=[]
return s&&s.length?(s=""+(t.caseSensitive?s:s.toLowerCase()),n=(""+s).split(" "),t.faqNodes.each(function(){var s=e(this),o="",i=0
o=s.find("."+t.questionClass).text(),o+=" "+s.find("."+t.answerClass).text(),o=t.caseSensitive?o:o.toLowerCase()
for(var r=0,l=n.length;r<l;++r)n[r].length&&(i+=t.score(o,n[r]));(i+=t.scoreTags(s.find("."+t.tagClass).text(),n))>t.minSearchScore&&a.push([i,s])}),a):a},scoreTags:function(e,s){var n=this,t=0,a=null
if(!e.length)return t
if(!s||!s.splice||!s.length)return t
e=(n.caseSensitive?e:e.toLowerCase()).replace(/\s?(,|;)\s?/g," ")
for(var o=0,i=s.length;o<i;++o)s[o].length&&(a=e.match(new RegExp("[^\\s]*("+s[o]+")[^\\s]*")))&&(a[0].length==a[1].length?t+=n.exactTagScore:t+=n.partialTagScore)
return t}})}(jQuery)