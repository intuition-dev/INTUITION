
feed-tag
   .cards
      <virtual each={ items}>

         a.flex.edge.item(href='{url}')
            .left
               img.cardImg(src= '{image}')
            .right
               .cardInfo
                  h4 {content_text}
                     br
                     div
                        br
                        img.circImgSmall( src= '{ author.avatar }' )
                     div
                        h6 { author.name }

      </virtual>
   br

   style.
      .cards {
         display: flex;
         flex-wrap: wrap;
         justify-content: center;
         align-content: flex-start;
      }
      /*
         width = item + margin to make orphan go left
      */
      .cards:after {
         content: '';
         width: 600px;
      }

      .cardImg {
         max-width:  400px ;
         height: 300px ;
         object-fit: cover;
         overflow: hidden;
      }
      .cardInfo {
         padding: 15px;
      }

      .item{
         width: 600px;
         height: 300px ;

         margin: 10px;
         overflow: hidden;

         background: white;
         border-style: outset;
         border-width: .05px;
         border-color: #DCDCDC;
      }


   script.
      console.log('oh hi tag')
      this.on('*', function(evt) {
         //console.log('riot', evt)
      })
      this.items = []
      thiz = this

      render(data) {// public
         if(!data ) {
            thiz.items = []
            thiz.update()
            return
         }
         console.log(Object.keys(data[0]))
         // clone
         let cloned = JSON.parse(JSON.stringify(data))
         thiz.items = cloned

        let sz = thiz.items.length
        for(i = 0; i < sz; i++) {
            var item = thiz.items[i]
            item.url = ROOT + 'blog/' + item.url
            if (item.image.indexOf('//')==-1)
                item.image = item.url + '/' + item.image

            console.log(item.url)
         }

         thiz.update()

      }


